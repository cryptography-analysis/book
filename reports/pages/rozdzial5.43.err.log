Traceback (most recent call last):
  File "/usr/local/lib/python3.10/dist-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/usr/local/lib/python3.10/dist-packages/nbclient/client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/usr/local/lib/python3.10/dist-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/usr/local/lib/python3.10/dist-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/usr/lib/python3.10/asyncio/base_events.py", line 646, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/dist-packages/nbclient/client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "/usr/local/lib/python3.10/dist-packages/nbclient/client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/usr/local/lib/python3.10/dist-packages/nbclient/client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
def tL(text):
    i = 0
    for x in text:
        i=i+1
    return i

def find(qGram, qGrams):
    i = 0
    for j in range(30):
        if qGram == qGrams[j]:
            i = j
            return i
        else:
            i = i+1
    return -1

def findT(triGram, triGrams):
    i = 0
    for j in range(30):
        if triGram == triGrams[i]:
            i = j
            return i
        else:
            i = i+1
    return -1

def findB(biGram, biGrams):
    i = 0
    for j in range(30):
        if biGram == biGrams[i]:
            i = j
            return i
        else:
            i = i+1
    return -1

            
def score(text, qGrams, qGScore, triGrams, triGScore, biGrams, biGScore):
    sum = 0;
    y = 0;
    qGram = ""
    triGram = ""
    biGram = ""
    for i in range(tL(text)-5):
        qGram = ""
        for j in range(4):
            qGram = qGram + text[i+j]
        y = find(qGram, qGrams)
        if y > 0:
            sum = sum + y
    for i in range(tL(text)-4):
        triGram = ""
        for j in range(3):
            triGram = triGram + text[i+j]
        y = findT(triGram, triGrams)
        if y > 0:
            sum = sum + y
    for i in range(tL(text)-3):
        biGram = ""
        for j in range(2):
            biGram = biGram + text[i+j]
        y = findB(biGram, biGrams)
        if y > 0:
            sum = sum + y
    return sum

keyLength = 7
text = """TheoldermatterswhichhadmadethesculptorsdreamandbasreliefsosignificanttomyuncleformedthesubjectofthesecondhalfofhislongmanuscriptOncebeforeitappearsProfessorAngellhadseenthehellishoutlinesofthenamelessmonstrositypuzzledovertheunknownhieroglyphicsandheardtheominoussyllableswhichcanberenderedonlyasCthulhuandallthisinsostirringandhorribleaconnexionthatitissmallwonderhepursuedyoungWilcoxwithqueriesanddemandsfordata
TheearlierexperiencehadcomeinseventeenyearsbeforewhentheAmericanArchaeologicalSocietyhelditsannualmeetinginStLouisProfessorAngellasbefittedoneofhisauthorityandattainmentshadhadaprominentpartinallthedeliberationsandwasoneofthefirsttobeapproachedbytheseveraloutsiderswhotookadvantageoftheconvocationtoofferquestionsforcorrectansweringandproblemsforexpertsolution
ThechiefoftheseoutsidersandinashorttimethefocusofinterestfortheentiremeetingwasacommonplacelookingmiddleagedmanwhohadtravelledallthewayfromNewOrleansforcertainspecialinformationunobtainablefromanylocalsourceHisnamewasJohnRaymondLegrasseandhewasbyprofessionanInspectorofPoliceWithhimheborethesubjectofhisvisitagrotesquerepulsiveandapparentlyveryancientstonestatuettewhoseoriginhewasatalosstodetermineItmustnotbefanciedthatInspectorLegrassehadtheleastinterestinarchaeologyOnthecontraryhiswishforenlightenmentwaspromptedbypurelyprofessionalconsiderationsThestatuetteidolfetishorwhateveritwashadbeencapturedsomemonthsbeforeinthewoodedswampssouthofNewOrleansduringaraidonasupposedvoodoomeetingandsosingularandhideousweretheritesconnectedwithitthatthepolicecouldnotbutrealisethattheyhadstumbledonadarkculttotallyunknowntothemandinfinitelymorediabolicthaneventheblackestoftheAfricanvoodoocirclesOfitsoriginapartfromtheerraticandunbelievabletalesextortedfromthecapturedmembersabsolutelynothingwastobediscoveredhencetheanxietyofthepoliceforanyantiquarianlorewhichmighthelpthemtoplacethefrightfulsymbolandthroughittrackdowntheculttoitsfountainhead
InspectorLegrassewasscarcelypreparedforthesensationwhichhisofferingcreatedOnesightofthethinghadbeenenoughtothrowtheassembledmenofscienceintoastateoftenseexcitementandtheylostnotimeincrowdingaroundhimtogazeatthediminutivefigurewhoseutterstrangenessandairofgenuinelyabysmalantiquityhintedsopotentlyatunopenedandarchaicvistasNorecognisedschoolofsculpturehadanimatedthisterribleobjectyetcenturiesandeventhousandsofyearsseemedrecordedinitsdimandgreenishsurfaceofunplaceablestone
ThefigurewhichwasfinallypassedslowlyfrommantomanforcloseandcarefulstudywasbetweensevenandeightinchesinheightandofexquisitelyartisticworkmanshipItrepresentedamonsterofvaguelyanthropoidoutlinebutwithanoctopuslikeheadwhosefacewasamassoffeelersascalyrubberylookingbodyprodigiousclawsonhindandforefeetandlongnarrowwingsbehindThisthingwhichseemedinstinctwithafearsomeandunnaturalmalignancywasofasomewhatbloatedcorpulenceandsquattedevillyonarectangularblockorpedestalcoveredwithundecipherablecharactersThetipsofthewingstouchedthebackedgeoftheblocktheseatoccupiedthecentrewhilstthelongcurvedclawsofthedoubledupcrouchinghindlegsgrippedthefrontedgeandextendedaquarterofthewaydowntowardthebottomofthepedestalThecephalopodheadwasbentforwardsothattheendsofthefacialfeelersbrushedthebacksofhugeforepawswhichclaspedthecroucherselevatedkneesTheaspectofthewholewasabnormallylifelikeandthemoresubtlyfearfulbecauseitssourcewassototallyunknownItsvastawesomeandincalculableagewasunmistakableyetnotonelinkdiditshewwithanyknowntypeofartbelongingtocivilisationsyouthorindeedtoanyothertimeTotallyseparateandapartitsverymaterialwasamysteryforthesoapygreenishblackstonewithitsgoldenoriridescentflecksandstriationsresemblednothingfamiliartogeologyormineralogyThecharactersalongthebasewereequallybafflingandnomemberpresentdespitearepresentationofhalftheworldsexpertlearninginthisfieldcouldformtheleastnotionofeventheirremotestlinguistickinshipTheylikethesubjectandmaterialbelongedtosomethinghorriblyremoteanddistinctfrommankindasweknowitsomethingfrightfullysuggestiveofoldandunhallowedcyclesoflifeinwhichourworldandourconceptionshavenopart
AndyetasthemembersseverallyshooktheirheadsandconfesseddefeatattheInspectorsproblemtherewasonemaninthatgatheringwhosuspectedatouchofbizarrefamiliarityinthemonstrousshapeandwritingandwhopresentlytoldwithsomediffidenceoftheoddtrifleheknewThispersonwasthelateWilliamChanningWebbProfessorofAnthropologyinPrincetonUniversityandanexplorerofnoslightnoteProfessorWebbhadbeenengagedfortyeightyearsbeforeinatourofGreenlandandIcelandinsearchofsomeRunicinscriptionswhichhefailedtounearthandwhilsthighupontheWestGreenlandcoasthadencounteredasingulartribeorcultofdegenerateEsquimauxwhosereligionacuriousformofdevilworshipchilledhimwithitsdeliberatebloodthirstinessandrepulsivenessItwasafaithofwhichotherEsquimauxknewlittleandwhichtheymentionedonlywithshudderssayingthatithadcomedownfromhorriblyancientaeonsbeforeevertheworldwasmadeBesidesnamelessritesandhumansacrificestherewerecertainqueerhereditaryritualsaddressedtoasupremeelderdevilortornasukandofthisProfessorWebbhadtakenacarefulphoneticcopyfromanagedangekokorwizardpriestexpressingthesoundsinRomanlettersasbestheknewhowButjustnowofprimesignificancewasthefetishwhichthisculthadcherishedandaroundwhichtheydancedwhentheauroraleapedhighovertheicecliffsItwastheprofessorstatedaverycrudebasreliefofstonecomprisingahideouspictureandsomecrypticwritingAndsofarashecouldtellitwasaroughparallelinallessentialfeaturesofthebestialthingnowlyingbeforethemeeting
ThisdatareceivedwithsuspenseandastonishmentbytheassembledmembersproveddoublyexcitingtoInspectorLegrasseandhebeganatoncetoplyhisinformantwithquestionsHavingnotedandcopiedanoralritualamongtheswampcultworshippershismenhadarrestedhebesoughttheprofessortorememberasbesthemightthesyllablestakendownamongstthediabolistEsquimauxTherethenfollowedanexhaustivecomparisonofdetailsandamomentofreallyawedsilencewhenbothdetectiveandscientistagreedonthevirtualidentityofthephrasecommontotwohellishritualssomanyworldsofdistanceapartWhatinsubstanceboththeEsquimauwizardsandtheLouisianaswamppriestshadchantedtotheirkindredidolswassomethingverylikethistheworddivisionsbeingguessedatfromtraditionalbreaksinthephraseaschantedaloud
PhngluimglwnafhCthulhuRlyehwgahnaglfhtagn
LegrassehadonepointinadvanceofProfessorWebbforseveralamonghismongrelprisonershadrepeatedtohimwhatoldercelebrantshadtoldthemthewordsmeantThistextasgivenransomethinglikethis
InhishouseatRlyehdeadCthulhuwaitsdreaming
AndnowinresponsetoageneralandurgentdemandInspectorLegrasserelatedasfullyaspossiblehisexperiencewiththeswampworshipperstellingastorytowhichIcouldseemyuncleattachedprofoundsignificanceItsavouredofthewildestdreamsofmythmakerandtheosophistanddisclosedanastonishingdegreeofcosmicimaginationamongsuchhalfcastesandpariahsasmightbeleastexpectedtopossessit
OnNovembersttherehadcometotheNewOrleanspoliceafranticsummonsfromtheswampandlagooncountrytothesouthThesquatterstheremostlyprimitivebutgoodnatureddescendantsofLafittesmenwereinthegripofstarkterrorfromanunknownthingwhichhadstolenupontheminthenightItwasvoodooapparentlybutvoodooofamoreterriblesortthantheyhadeverknownandsomeoftheirwomenandchildrenhaddisappearedsincethemalevolenttomtomhadbegunitsincessantbeatingfarwithintheblackhauntedwoodswherenodwellerventuredTherewereinsaneshoutsandharrowingscreamssoulchillingchantsanddancingdevilflamesandthefrightenedmessengeraddedthepeoplecouldstanditnomore
SoabodyoftwentypolicefillingtwocarriagesandanautomobilehadsetoutinthelateafternoonwiththeshiveringsquatterasaguideAttheendofthepassableroadtheyalightedandformilessplashedoninsilencethroughtheterriblecypresswoodswheredaynevercameUglyrootsandmalignanthangingnoosesofSpanishmossbesetthemandnowandthenapileofdankstonesorfragmentofarottingwallintensifiedbyitshintofmorbidhabitationadepressionwhicheverymalformedtreeandeveryfungousisletcombinedtocreateAtlengththesquattersettlementamiserablehuddleofhutshoveinsightandhystericaldwellersranouttoclusteraroundthegroupofbobbinglanternsThemuffledbeatoftomtomswasnowfaintlyaudiblefarfaraheadandacurdlingshriekcameatinfrequentintervalswhenthewindshiftedAreddishglaretooseemedtofilterthroughthepaleundergrowthbeyondendlessavenuesofforestnightReluctanteventobeleftaloneagaineachoneofthecowedsquattersrefusedpointblanktoadvanceanotherinchtowardthesceneofunholyworshipsoInspectorLegrasseandhisnineteencolleaguesplungedonunguidedintoblackarcadesofhorrorthatnoneofthemhadevertrodbefore
TheregionnowenteredbythepolicewasoneoftraditionallyevilreputesubstantiallyunknownanduntraversedbywhitemenTherewerelegendsofahiddenlakeunglimpsedbymortalsightinwhichdweltahugeformlesswhitepolypousthingwithluminouseyesandsquatterswhisperedthatbatwingeddevilsflewupoutofcavernsininnerearthtoworshipitatmidnightTheysaidithadbeentherebeforeDIbervillebeforeLaSallebeforetheIndiansandbeforeeventhewholesomebeastsandbirdsofthewoodsItwasnightmareitselfandtoseeitwastodieButitmademendreamandsotheyknewenoughtokeepawayThepresentvoodooorgywasindeedonthemerestfringeofthisabhorredareabutthatlocationwasbadenoughhenceperhapstheveryplaceoftheworshiphadterrifiedthesquattersmorethantheshockingsoundsandincidents
OnlypoetryormadnesscoulddojusticetothenoisesheardbyLegrassesmenastheyploughedonthroughtheblackmorasstowardtheredglareandthemuffledtomtomsTherearevocalqualitiespeculiartomenandvocalqualitiespeculiartobeastsanditisterribletoheartheonewhenthesourceshouldyieldtheotherAnimalfuryandorgiasticlicenceherewhippedthemselvestodaemoniacheightsbyhowlsandsquawkingecstasiesthattoreandreverberatedthroughthosenightedwoodslikepestilentialtempestsfromthegulfsofhellNowandthenthelessorganisedululationwouldceaseandfromwhatseemedawelldrilledchorusofhoarsevoiceswouldriseinsingsongchantthathideousphraseorritual
PhngluimglwnafhCthulhuRlyehwgahnaglfhtagn
ThenthemenhavingreachedaspotwherethetreeswerethinnercamesuddenlyinsightofthespectacleitselfFourofthemreeledonefaintedandtwowereshakenintoafranticcrywhichthemadcacophonyoftheorgyfortunatelydeadenedLegrassedashedswampwateronthefaceofthefaintingmanandallstoodtremblingandnearlyhypnotisedwithhorror
InanaturalgladeoftheswampstoodagrassyislandofperhapsanacresextentclearoftreesandtolerablydryOnthisnowleapedandtwistedamoreindescribablehordeofhumanabnormalitythananybutaSimeoranAngarolacouldpaintVoidofclothingthishybridspawnwerebrayingbellowingandwrithingaboutamonstrousringshapedbonfireinthecentreofwhichrevealedbyoccasionalriftsinthecurtainofflamestoodagreatgranitemonolithsomeeightfeetinheightontopofwhichincongruouswithitsdiminutivenessrestedthenoxiouscarvenstatuetteFromawidecircleoftenscaffoldssetupatregularintervalswiththeflamegirtmonolithasacentrehungheaddownwardtheoddlymarredbodiesofthehelplesssquatterswhohaddisappearedItwasinsidethiscirclethattheringofworshippersjumpedandroaredthegeneraldirectionofthemassmotionbeingfromlefttorightinendlessBacchanalbetweentheringofbodiesandtheringoffire
ItmayhavebeenonlyimaginationanditmayhavebeenonlyechoeswhichinducedoneofthemenanexcitableSpaniardtofancyheheardantiphonalresponsestotheritualfromsomefarandunilluminedspotdeeperwithinthewoodofancientlegendryandhorrorThismanJosephDGalvezIlatermetandquestionedandheproveddistractinglyimaginativeHeindeedwentsofarastohintofthefaintbeatingofgreatwingsandofaglimpseofshiningeyesandamountainouswhitebulkbeyondtheremotesttreesbutIsupposehehadbeenhearingtoomuchnativesuperstition
ActuallythehorrifiedpauseofthemenwasofcomparativelybriefdurationDutycamefirstandalthoughtheremusthavebeennearlyahundredmongrelcelebrantsinthethrongthepolicereliedontheirfirearmsandplungeddeterminedlyintothenauseousroutForfiveminutestheresultantdinandchaoswerebeyonddescriptionWildblowswerestruckshotswerefiredandescapesweremadebutintheendLegrassewasabletocountsomefortysevensullenprisonerswhomheforcedtodressinhasteandfallintolinebetweentworowsofpolicemenFiveoftheworshipperslaydeadandtwoseverelywoundedoneswerecarriedawayonimprovisedstretchersbytheirfellowprisonersTheimageonthemonolithofcoursewascarefullyremovedandcarriedbackbyLegrasse
ExaminedatheadquartersafteratripofintensestrainandwearinesstheprisonersallprovedtobemenofaverylowmixedbloodedandmentallyaberranttypeMostwereseamenandasprinklingofnegroesandmulattoeslargelyWestIndiansorBravaPortuguesefromtheCapeVerdeIslandsgaveacolouringofvoodooismtotheheterogeneouscultButbeforemanyquestionswereaskeditbecamemanifestthatsomethingfardeeperandolderthannegrofetichismwasinvolvedDegradedandignorantastheywerethecreaturesheldwithsurprisingconsistencytothecentralideaoftheirloathsomefaith
TheyworshippedsotheysaidtheGreatOldOneswholivedagesbeforetherewereanymenandwhocametotheyoungworldoutoftheskyThoseOldOnesweregonenowinsidetheearthandundertheseabuttheirdeadbodieshadtoldtheirsecretsindreamstothefirstmenwhoformedacultwhichhadneverdiedThiswasthatcultandtheprisonerssaidithadalwaysexistedandalwayswouldexisthiddenindistantwastesanddarkplacesallovertheworlduntilthetimewhenthegreatpriestCthulhufromhisdarkhouseinthemightycityofRlyehunderthewatersshouldriseandbringtheearthagainbeneathhisswaySomedayhewouldcallwhenthestarswerereadyandthesecretcultwouldalwaysbewaitingtoliberatehim
MeanwhilenomoremustbetoldTherewasasecretwhicheventorturecouldnotextractMankindwasnotabsolutelyaloneamongtheconsciousthingsofearthforshapescameoutofthedarktovisitthefaithfulfewButthesewerenottheGreatOldOnesNomanhadeverseentheOldOnesThecarvenidolwasgreatCthulhubutnonemightsaywhetherornottheotherswerepreciselylikehimNoonecouldreadtheoldwritingnowbutthingsweretoldbywordofmouthThechantedritualwasnotthesecretthatwasneverspokenaloudonlywhisperedThechantmeantonlythisInhishouseatRlyehdeadCthulhuwaitsdreaming
OnlytwooftheprisonerswerefoundsaneenoughtobehangedandtherestwerecommittedtovariousinstitutionsAlldeniedapartintheritualmurdersandaverredthatthekillinghadbeendonebyBlackWingedOneswhichhadcometothemfromtheirimmemorialmeetingplaceinthehauntedwoodButofthosemysteriousalliesnocoherentaccountcouldeverbegainedWhatthepolicedidextractcamemainlyfromanimmenselyagedmestizonamedCastrowhoclaimedtohavesailedtostrangeportsandtalkedwithundyingleadersofthecultinthemountainsofChina
OldCastrorememberedbitsofhideouslegendthatpaledthespeculationsoftheosophistsandmademanandtheworldseemrecentandtransientindeedTherehadbeenaeonswhenotherThingsruledontheearthandTheyhadhadgreatcitiesRemainsofThemhesaidthedeathlessChinamenhadtoldhimwerestilltobefoundasCyclopeanstonesonislandsinthePacificTheyalldiedvastepochsoftimebeforemencamebuttherewereartswhichcouldreviveThemwhenthestarshadcomeroundagaintotherightpositionsinthecycleofeternityTheyhadindeedcomethemselvesfromthestarsandbroughtTheirimageswithThem
TheseGreatOldOnesCastrocontinuedwerenotcomposedaltogetheroffleshandbloodTheyhadshapefordidnotthisstarfashionedimageproveitbutthatshapewasnotmadeofmatterWhenthestarswererightTheycouldplungefromworldtoworldthroughtheskybutwhenthestarswerewrongTheycouldnotliveButalthoughTheynolongerlivedTheywouldneverreallydieTheyalllayinstonehousesinTheirgreatcityofRlyehpreservedbythespellsofmightyCthulhuforagloriousresurrectionwhenthestarsandtheearthmightoncemorebereadyforThemButatthattimesomeforcefromoutsidemustservetoliberateTheirbodiesThespellsthatpreservedThemintactlikewisepreventedThemfrommakinganinitialmoveandTheycouldonlylieawakeinthedarkandthinkwhilstuncountedmillionsofyearsrolledbyTheyknewallthatwasoccurringintheuniversebutTheirmodeofspeechwastransmittedthoughtEvennowTheytalkedinTheirtombsWhenafterinfinitiesofchaosthefirstmencametheGreatOldOnesspoketothesensitiveamongthembymouldingtheirdreamsforonlythuscouldTheirlanguagereachthefleshlymindsofmammals
ThenwhisperedCastrothosefirstmenformedthecultaroundsmallidolswhichtheGreatOnesshewedthemidolsbroughtindimaerasfromdarkstarsThatcultwouldneverdietillthestarscamerightagainandthesecretpriestswouldtakegreatCthulhufromHistombtoreviveHissubjectsandresumeHisruleofearthThetimewouldbeeasytoknowforthenmankindwouldhavebecomeastheGreatOldOnesfreeandwildandbeyondgoodandevilwithlawsandmoralsthrownasideandallmenshoutingandkillingandrevellinginjoyThentheliberatedOldOneswouldteachthemnewwaystoshoutandkillandrevelandenjoythemselvesandalltheearthwouldflamewithaholocaustofecstasyandfreedomMeanwhilethecultbyappropriateritesmustkeepalivethememoryofthoseancientwaysandshadowforththeprophecyoftheirreturn
IntheeldertimechosenmenhadtalkedwiththeentombedOldOnesindreamsbutthensomethinghadhappenedThegreatstonecityRlyehwithitsmonolithsandsepulchreshadsunkbeneaththewavesandthedeepwatersfulloftheoneprimalmysterythroughwhichnoteventhoughtcanpasshadcutoffthespectralintercourseButmemoryneverdiedandhighpriestssaidthatthecitywouldriseagainwhenthestarswererightThencameoutoftheearththeblackspiritsofearthmouldyandshadowyandfullofdimrumourspickedupincavernsbeneathforgottenseabottomsButofthemoldCastrodarednotspeakmuchHecuthimselfoffhurriedlyandnoamountofpersuasionorsubtletycouldelicitmoreinthisdirectionThesizeoftheOldOnestoohecuriouslydeclinedtomentionOftheculthesaidthathethoughtthecentrelayamidthepathlessdesertsofArabiawhereIremtheCityofPillarsdreamshiddenanduntouchedItwasnotalliedtotheEuropeanwitchcultandwasvirtuallyunknownbeyonditsmembersNobookhadeverreallyhintedofitthoughthedeathlessChinamensaidthatthereweredoublemeaningsintheNecronomiconofthemadArabAbdulAlhazredwhichtheinitiatedmightreadastheychoseespeciallythemuchdiscussedcouplet
Thatisnotdeadwhichcaneternallie
Andwithstrangeaeonsevendeathmaydie
LegrassedeeplyimpressedandnotalittlebewilderedhadinquiredinvainconcerningthehistoricaffiliationsofthecultCastroapparentlyhadtoldthetruthwhenhesaidthatitwaswhollysecretTheauthoritiesatTulaneUniversitycouldshednolightuponeithercultorimageandnowthedetectivehadcometothehighestauthoritiesinthecountryandmetwithnomorethantheGreenlandtaleofProfessorWebb
ThefeverishinterestarousedatthemeetingbyLegrassestalecorroboratedasitwasbythestatuetteisechoedinthesubsequentcorrespondenceofthosewhoattendedalthoughscantmentionoccursintheformalpublicationsofthesocietyCautionisthefirstcareofthoseaccustomedtofaceoccasionalcharlatanryandimpostureLegrasseforsometimelenttheimagetoProfessorWebbbutatthelattersdeathitwasreturnedtohimandremainsinhispossessionwhereIvieweditnotlongagoItistrulyaterriblethingandunmistakablyakintothedreamsculptureofyoungWilcox
ThatmyunclewasexcitedbythetaleofthesculptorIdidnotwonderforwhatthoughtsmustariseuponhearingafteraknowledgeofwhatLegrassehadlearnedofthecultofasensitiveyoungmanwhohaddreamednotonlythefigureandexacthieroglyphicsoftheswampfoundimageandtheGreenlanddeviltabletbuthadcomeinhisdreamsuponatleastthreeoftheprecisewordsoftheformulautteredalikebyEsquimaudiabolistsandmongrelLouisianansProfessorAngellsinstantstartonaninvestigationoftheutmostthoroughnesswaseminentlynaturalthoughprivatelyIsuspectedyoungWilcoxofhavingheardofthecultinsomeindirectwayandofhavinginventedaseriesofdreamstoheightenandcontinuethemysteryatmyunclesexpenseThedreamnarrativesandcuttingscollectedbytheprofessorwereofcoursestrongcorroborationbuttherationalismofmymindandtheextravaganceofthewholesubjectledmetoadoptwhatIthoughtthemostsensibleconclusionsSoafterthoroughlystudyingthemanuscriptagainandcorrelatingthetheosophicalandanthropologicalnoteswiththecultnarrativeofLegrasseImadeatriptoProvidencetoseethesculptorandgivehimtherebukeIthoughtproperforsoboldlyimposinguponalearnedandagedman
WilcoxstilllivedaloneintheFleurdeLysBuildinginThomasStreetahideousVictorianimitationofseventeenthcenturyBretonarchitecturewhichflauntsitsstuccoedfrontamidstthelovelycolonialhousesontheancienthillandundertheveryshadowofthefinestGeorgiansteepleinAmericaIfoundhimatworkinhisroomsandatonceconcededfromthespecimensscatteredaboutthathisgeniusisindeedprofoundandauthenticHewillIbelievesometimebeheardfromasoneofthegreatdecadentsforhehascrystallisedinclayandwillonedaymirrorinmarblethosenightmaresandphantasieswhichArthurMachenevokesinproseandClarkAshtonSmithmakesvisibleinverseandinpainting
DarkfrailandsomewhatunkemptinaspectheturnedlanguidlyatmyknockandaskedmemybusinesswithoutrisingWhenItoldhimwhoIwashedisplayedsomeinterestformyunclehadexcitedhiscuriosityinprobinghisstrangedreamsyethadneverexplainedthereasonforthestudyIdidnotenlargehisknowledgeinthisregardbutsoughtwithsomesubtletytodrawhimoutInashorttimeIbecameconvincedofhisabsolutesincerityforhespokeofthedreamsinamannernonecouldmistakeTheyandtheirsubconsciousresiduumhadinfluencedhisartprofoundlyandheshewedmeamorbidstatuewhosecontoursalmostmademeshakewiththepotencyofitsblacksuggestionHecouldnotrecallhavingseentheoriginalofthisthingexceptinhisowndreambasreliefbuttheoutlineshadformedthemselvesinsensiblyunderhishandsItwasnodoubtthegiantshapehehadravedofindeliriumThathereallyknewnothingofthehiddencultsavefromwhatmyunclesrelentlesscatechismhadletfallhesoonmadeclearandagainIstrovetothinkofsomewayinwhichhecouldpossiblyhavereceivedtheweirdimpressions
HetalkedofhisdreamsinastrangelypoeticfashionmakingmeseewithterriblevividnessthedampCyclopeancityofslimygreenstonewhosegeometryheoddlysaidwasallwrongandhearwithfrightenedexpectancytheceaselesshalfmentalcallingfromundergroundCthulhufhtagnCthulhufhtagnThesewordshadformedpartofthatdreadritualwhichtoldofdeadCthulhusdreamvigilinhisstonevaultatRlyehandIfeltdeeplymoveddespitemyrationalbeliefsWilcoxIwassurehadheardofthecultinsomecasualwayandhadsoonforgottenitamidstthemassofhisequallyweirdreadingandimaginingLaterbyvirtueofitssheerimpressivenessithadfoundsubconsciousexpressionindreamsinthebasreliefandintheterriblestatueInowbeheldsothathisimpostureuponmyunclehadbeenaveryinnocentoneTheyouthwasofatypeatonceslightlyaffectedandslightlyillmanneredwhichIcouldneverlikebutIwaswillingenoughnowtoadmitbothhisgeniusandhishonestyItookleaveofhimamicablyandwishhimallthesuccesshistalentpromises
ThematterofthecultstillremainedtofascinatemeandattimesIhadvisionsofpersonalfamefromresearchesintoitsoriginandconnexionsIvisitedNewOrleanstalkedwithLegrasseandothersofthatoldtimeraidingpartysawthefrightfulimageandevenquestionedsuchofthemongrelprisonersasstillsurvivedOldCastrounfortunatelyhadbeendeadforsomeyearsWhatInowheardsographicallyatfirsthandthoughitwasreallynomorethanadetailedconfirmationofwhatmyunclehadwrittenexcitedmeafreshforIfeltsurethatIwasonthetrackofaveryrealverysecretandveryancientreligionwhosediscoverywouldmakemeananthropologistofnoteMyattitudewasstilloneofabsolutematerialismasIwishitstillwereandIdiscountedwithalmostinexplicableperversitythecoincidenceofthedreamnotesandoddcuttingscollectedbyProfessorAngell
OnethingIbegantosuspectandwhichInowfearIknowisthatmyunclesdeathwasfarfromnaturalHefellonanarrowhillstreetleadingupfromanancientwaterfrontswarmingwithforeignmongrelsafteracarelesspushfromanegrosailorIdidnotforgetthemixedbloodandmarinepursuitsofthecultmembersinLouisianaandwouldnotbesurprisedtolearnofsecretmethodsandpoisonneedlesasruthlessandasancientlyknownasthecrypticritesandbeliefsLegrasseandhismenitistruehavebeenletalonebutinNorwayacertainseamanwhosawthingsisdeadMightnotthedeeperinquiriesofmyuncleafterencounteringthesculptorsdatahavecometosinisterearsIthinkProfessorAngelldiedbecauseheknewtoomuchorbecausehewaslikelytolearntoomuchWhetherIshallgoashedidremainstobeseenforIhavelearnedmuchnow
"""

#najczęściej występujące n-gramy
qGrams = ["tion", "nthe", "ther", "that", "fthe", "ofth", "thes", "with", "atio", "inth", "othe", "tthe", "dthe", "ethe", "ingt", 
"sand", "sthe", "here", "thec", "ment", "rthe", "them", "thep", "andt", "from", "ions", "ngth", "thei", "this", "ting"]
triGrams = ["the", "and", "ing", "ent", "ion", "her", "for", "tha", "nth", "int", "ere", "tio", "ter", "est", "ers", "ati", "hat",
"ate", "all", "hes", "ver", "his", "eth", "oft", "ith", "fth", "sth", "oth", "res", "ont"]
biGrams = ["th", "he", "in", "er", "an", "re", "es", "on", "st", "nt", "en", "at", "ed", "nd",
"to", "or", "ea", "ti", "ar", "te", "ng", "al", "it", "as", "is", "ha", "et", "se", "ou", "of"]
#najczęściej występujące n-gramy

#punktacja nGScore = (2 pierwsze istotne cyfry częstości występowania w języku naturalnym)*n
qGScore = [84,78,72,66,60,60,54,54,48,48,42,42,36,36,36,30,30,24,24,18,18,18,12,6,6,6,6,6,6,6]
triGScore = [68,64,60,56,56,52,48,44,44,40,36,36,32,28,28,24,24,20,20,16,16,16,16,12,8,8,8,8,8,4]
biGScore = [26, 25, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 14, 13, 12, 11, 10, 10, 9, 8, 8, 7, 6, 5, 4, 3, 2, 1]
#punktacja nGScore = (2 pierwsze istotne cyfry częstości występowania w języku naturalnym)*n

textLength = tL(text)
fullRows = floor(textLength/keyLength)
longCols = textLength % keyLength
key = []
randKey = []
print("Tekst:\n",text)
key = [3, 2, 7, 6, 4, 5, 1] #klucz szyfrujący
textMatrixCols = []

#wprowadzenie wpisanego plaintextu do tablicy
for i in range(keyLength):
    textMatrixCols.append("")
    for j in range(fullRows+1):
        if i+keyLength*j < tL(text):
            textMatrixCols[i] += text[i+j*keyLength]
        else:
            textMatrixCols[i] += " "
#wprowadzenie wpisanego plaintextu do tablicy

cTMatrixCols = []
cT = ""
for i in range(keyLength):
    cTMatrixCols.append("")

#utworzenie tablicy szyfrogramu i-ta kolumna zaszyfrowana <= klucz[i]-ta kolumna niezaszyfrowana
for i in range(keyLength):
    cTMatrixCols[i] = textMatrixCols[key[i]-1]
for i in range(keyLength):
    for j in range(fullRows+1):
        cT+=cTMatrixCols[i][j];
#utworzenie tablicy szyfrogramu i-ta kolumna zaszyfrowana to klucz[i]-ta kolumna niezaszyfrowana

print("\n---\nZaszyfrowany:\n", cT)
keys = []
pT = ""
testMatrix = []
newKey = []
keyScore = 0
newKeyScore = 0
iterator = 0
tempKStr = ""
tempVal = 0
k = 0
keyTransposition1 = 0
keyTransposition2 = 0
iter2 = 0
fpT = ""

#losowanie pierwszego klucza
while tL(randKey) < keyLength:
    tempKey = randint(1,keyLength)
    if tempKey not in randKey:
        randKey.append(tempKey)
#losowanie pierwszego klucza

while iter2 < 240:
    if iter2 % 24 == 0:
        print(iter2/2.4, "%")
    while iterator < 21:
        tempKStr = ""
        
        #czyszczenie tablicy testu deszyfrowania
        for k in range(keyLength):
            if tL(testMatrix) > 0:
                testMatrix.pop()
        #czyszczenie tablicy testu deszyfrowania
        
        pT = ""
        #losowanie klucza do transpozycji
        if iterator == 0 and iter2 > 0:    
            while tL(randKey) < keyLength:
                tempKey = randint(1,keyLength)
                if tempKey not in randKey:
                    randKey.append(tempKey)
        #losowanie klucza do transpozycji
        
        #transponowanie klucza
        else:
            keyTransposition1 = randint(0,keyLength-1)
            keyTransposition2 = keyTransposition1
            while keyTransposition1 == keyTransposition2:
                keyTransposition2 = randint(0,keyLength-1)
            tempVal = randKey[keyTransposition1]
            randKey[keyTransposition1] = randKey[keyTransposition2]
            randKey[keyTransposition2] = tempVal
        #transponowanie klucza
        
        for k in range(keyLength):
            tempKStr+=str(randKey[k])
        if tempKStr in keys:
            pass #pominięcie iteracji jeśli klucz już był sprawdzony 
        else:
        #wpisanie otrzymanego klucza do tablicy sprawdzonych
            keys.append(tempKStr)
        #wpisanie otrzymanego klucza do tablicy sprawdzonych
        for i in range(keyLength):
            testMatrix.append("")
        
        #utworzenie tablicy testowej (deszyfrowania) klucz[i]-ta kolumna testowa <= i-ta kolumna tablicy szyfrogramu
        for i in range(keyLength):
            testMatrix[randKey[i]-1] = cTMatrixCols[i]
        #utworzenie tablicy testowej (deszyfrowania) klucz[i]-ta kolumna testowa <= i-ta kolumna tablicy szyfrogramu
        
        #odtworzenie plaintextu i ocena 
        for j in range(fullRows+1):
            for i in range(keyLength):
                if testMatrix[i][j] != " ":
                    pT+=testMatrix[i][j];
        newKeyScore = score(pT, qGrams, qGScore, triGrams, triGScore, biGrams, biGScore)
        #odtworzenie plaintextu i ocena 
        
        #jeśli uzyskano lepszy wynik niż obecnie zapamiętanego klucz - zapamiętaj nowy klucz i uzyskany plaintext
        if newKeyScore >= keyScore:
            fpT = pT
            keyScore = newKeyScore
            if tL(newKey) > 0:
                for k in range(keyLength):
                    newKey.pop()
            for k in range(keyLength):
                newKey.append(randKey[k])
        #jeśli uzyskano lepszy wynik niż obecnie zapamiętanego klucz - zapamiętaj nowy klucz i uzyskany plaintext
        iterator = iterator+1
    iterator = 0
    iter2 = iter2 + 1
print("\n---\nOdszyforwano kluczem: ", newKey, "\nUzyskano wynik: ", newKeyScore, "\nOdszyfrowano: ", fpT)

------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mNameError[0m                                 Traceback (most recent call last)
Cell [0;32mIn[1], line 124[0m
[1;32m    121[0m [38;5;66;03m#punktacja nGScore = (2 pierwsze istotne cyfry częstości występowania w języku naturalnym)*n[39;00m
[1;32m    123[0m textLength [38;5;241m=[39m tL(text)
[0;32m--> 124[0m fullRows [38;5;241m=[39m [43mfloor[49m(textLength[38;5;241m/[39mkeyLength)
[1;32m    125[0m longCols [38;5;241m=[39m textLength [38;5;241m%[39m keyLength
[1;32m    126[0m key [38;5;241m=[39m []

[0;31mNameError[0m: name 'floor' is not defined
NameError: name 'floor' is not defined

